bot:
  name: Vita Bot
  email: vita-bot@stefan-marr.de

update-submodule:
  # basic module rebasing tests
  basic-without-conflicts:
    submodule:
      repo:
        url: ../downstream  # the ../ are needed to access the top-level test folders
        branch: partial
      upstream:
        url: ../upstream  # the ../ are needed to access the top-level test folders
        branch: extended

  basic-with-conflicts:
    submodule:
      repo:
        url: ../downstream  # the ../ are needed to access the top-level test folders
        branch: replaced
      upstream:
        url: ../upstream  # the ../ are needed to access the top-level test folders
        branch: extended

  # changes with conflicting file
  submodule-with-conflict:
    repo:
      url:  $BASE$/with-submodule
    submodule:
      repo:
        url: $BASE$/upstream
        branch: replaced
      path: with-conflict
      upstream:
        url: $BASE$/upstream
        branch: extended
  # changes that have a conflict
  submodule-without-conflict:
    repo:
      url:  $BASE$/with-submodule
    submodule:
      repo:
        url: $BASE$/upstream
        branch: partial
      path: without-conflict
      upstream:
        url: $BASE$/upstream
        branch: extended
  # simple fast-forward
  submodule-fast-forward:
    repo:
      url:  $BASE$/with-submodule
      branch: master
    submodule:
      repo:
        url: $BASE$/upstream
        branch: root-master
      path: fast-forward
      upstream:
        url: $BASE$/upstream
        branch: extended
